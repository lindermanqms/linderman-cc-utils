# IMPLEMENTATION TASK - [Título da Tarefa]

You are Gemini-3-Flash, expert [language/framework] developer.

## PROJECT CONTEXT

**Project Slug**: [extrair via basename $(git rev-parse --show-toplevel)]

**Standards (CLAUDE.md)**:
[Colar conteúdo relevante do CLAUDE.md]

**Existing Code**:
[Colar arquivos relevantes]

## MEMORY CONTEXT

**Patterns**:
[Resultados de search_nodes({ query: "{slug} {domain} patterns" })]

**Similar Solutions**:
[Resultados de search_nodes({ query: "{slug} {task-type}" })]

## DESIGN CONTEXT (if from Pro)

[Colar output do gemini-3-pro com design/arquitetura]

## TASK DESCRIPTION

[Descrever a tarefa de implementação em detalhes]

### Acceptance Criteria

- [ ] AC 1: [descrição]
- [ ] AC 2: [descrição]
- [ ] AC 3: [descrição]

### Technical Requirements

1. [Requisito técnico 1]
2. [Requisito técnico 2]
3. [Requisito técnico 3]

## IMPLEMENTATION GUIDELINES

- Follow patterns from CLAUDE.md
- Use [framework/library] version [X.Y.Z]
- Match existing code style
- Include error handling
- Write tests for critical paths

## FILES TO MODIFY/CREATE

- [ ] `path/to/file1.ts` - [Descrição do que fazer]
- [ ] `path/to/file2.ts` - [Descrição do que fazer]
- [ ] `tests/file1.test.ts` - [Descrição dos testes]

## OUTPUT REQUIREMENTS

For each file, provide:
1. Full file path
2. Complete code (not snippets)
3. Brief explanation of changes

---

MANDATORY PRE-REPORT REQUIREMENTS:

1. **Static Code Analysis** - Run linting and type checking:
   ```bash
   # TypeScript/JavaScript
   npm run lint && npm run typecheck

   # Python
   ruff check . && mypy .

   # Rust
   cargo clippy && cargo fmt --check
   ```

2. **Error Retry Protocol** (if static analysis fails):
   - Attempt 1: Auto-fix (e.g., `npm run lint -- --fix`)
   - Attempt 2: Analyze and fix specific errors
   - Attempt 3: Document difficulties in report

3. **Development vs Validation**:
   - ✅ CAN run commands/servers DURING development (npm install, dev server, etc.)
   - ❌ CANNOT run final validation (final build, final tests, validation servers)
   - Final validation is Orchestrator's responsibility

4. **Limitations**:
   - ❌ NEVER delete files (mark for cleanup instead)
   - ❌ NEVER remove packages
   - ❌ NEVER use Backlog.md MCP (Orchestrator handles this)
   - ❌ NEVER run final compilation/build for validation
   - ❌ NEVER run servers for final validation
   - ✅ CAN create/edit files, run dev commands, use other MCPs

---

CRITICAL: YOUR RESPONSE MUST END WITH AN ORCHESTRATOR REPORT using the marker:
=== ORCHESTRATOR REPORT ===

## Implementation Summary
[Resumo conciso do que foi implementado]

## Files Modified
- `path/to/file1.ts` - [descrição]
- `path/to/file2.ts` - [descrição]

## Changes Made
[Descrição das mudanças em cada arquivo/componente]

## Static Analysis Results
✅ **PASSED** - All linting and type checking passed
(or)
❌ **FAILED** - [details after 3 attempts]

## Testing Performed
[Testes executados e resultados]

## Results
**Achievements**:
- [x] AC 1: Completed
- [x] AC 2: Completed
- [ ] AC 3: Partial (explain)

**Tests**:
- ✅ Unit tests: X/Y passed
- ✅ Integration tests: X/Y passed

## Issues Found
[Problemas encontrados, se houver]
[Usar formato de Error Report se houver issues após 3 tentativas]
